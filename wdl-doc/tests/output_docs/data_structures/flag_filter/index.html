<!DOCTYPE html><html class="dark"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>flag_filter</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&amp;display=swap" rel="stylesheet"><script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/persist@3.x.x/dist/cdn.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script><link rel="stylesheet" type="text/css" href="../../style.css"></head><body class="size-full table-auto border-collapse dark:bg-slate-950 dark:text-white text-base"><div class="flex flex-row items-start"><div class="flex sticky top-0 max-w-1/7"><div x-data="{
                show_workflows: $persist(true).using(sessionStorage),
                search: '',
                chevron: '../../assets/chevron-down.png',
                nodes: [{
                        key: 'data_structures',
                        display_name: 'data_structures',
                        search_name: '',
                        img: '../../assets/selected-dir.png',
                        href: null,
                        selected: true,
                        nest_level: 1
                    }, {
                        key: 'data_structures_flag_filter',
                        display_name: 'flag_filter',
                        search_name: 'data_structures/flag_filter',
                        img: '../../assets/selected-dir.png',
                        href: 'index.html',
                        selected: true,
                        nest_level: 2
                    }, {
                        key: 'data_structures_flag_filter_FlagFilter_struct_html',
                        display_name: 'FlagFilter',
                        search_name: 'data_structures/flag_filter/FlagFilter-struct.html',
                        img: '../../assets/unselected-struct.png',
                        href: 'FlagFilter-struct.html',
                        selected: false,
                        nest_level: 3
                    }, {
                        key: 'data_structures_flag_filter_validate_flag_filter_workflow_html',
                        display_name: 'validate_flag_filter',
                        search_name: 'data_structures/flag_filter/validate_flag_filter-workflow.html',
                        img: '../../assets/unselected-workflow.png',
                        href: 'validate_flag_filter-workflow.html',
                        selected: false,
                        nest_level: 3
                    }, {
                        key: 'data_structures_flag_filter_validate_string_is_12bit_oct_dec_or_hex_task_html',
                        display_name: 'validate_string_is_12bit_oct_dec_or_hex',
                        search_name: 'data_structures/flag_filter/validate_string_is_12bit_oct_dec_or_hex-task.html',
                        img: '../../assets/unselected-task.png',
                        href: 'validate_string_is_12bit_oct_dec_or_hex-task.html',
                        selected: false,
                        nest_level: 3
                    }, {
                        key: 'data_structures_read_group',
                        display_name: 'read_group',
                        search_name: 'data_structures/read_group',
                        img: '../../assets/unselected-dir.png',
                        href: '../read_group/index.html',
                        selected: false,
                        nest_level: 2
                    }, {
                        key: 'data_structures_read_group_ReadGroup_struct_html',
                        display_name: 'ReadGroup',
                        search_name: 'data_structures/read_group/ReadGroup-struct.html',
                        img: '../../assets/unselected-struct.png',
                        href: '../read_group/ReadGroup-struct.html',
                        selected: false,
                        nest_level: 3
                    }, {
                        key: 'data_structures_read_group_get_read_groups_task_html',
                        display_name: 'get_read_groups',
                        search_name: 'data_structures/read_group/get_read_groups-task.html',
                        img: '../../assets/unselected-task.png',
                        href: '../read_group/get_read_groups-task.html',
                        selected: false,
                        nest_level: 3
                    }, {
                        key: 'data_structures_read_group_read_group_to_string_task_html',
                        display_name: 'read_group_to_string',
                        search_name: 'data_structures/read_group/read_group_to_string-task.html',
                        img: '../../assets/unselected-task.png',
                        href: '../read_group/read_group_to_string-task.html',
                        selected: false,
                        nest_level: 3
                    }, {
                        key: 'data_structures_read_group_validate_read_group_task_html',
                        display_name: 'validate_read_group',
                        search_name: 'data_structures/read_group/validate_read_group-task.html',
                        img: '../../assets/unselected-task.png',
                        href: '../read_group/validate_read_group-task.html',
                        selected: false,
                        nest_level: 3
                    }],
                get searchedNodes() {
                    if (this.search === '') {
                        return [];
                    }
                    return this.nodes.filter(node =&gt; node.search_name.toLowerCase().includes(this.search.toLowerCase()));
                },
                get shownNodes() {
                    if (this.search !== '') {
                        return [];
                    }
                    return this.nodes.filter(node =&gt; this.showSelfCache[node.key]);
                },
                dag: {'data_structures': ['data_structures_flag_filter', 'data_structures_read_group'], 'data_structures_flag_filter': ['data_structures_flag_filter_FlagFilter_struct_html', 'data_structures_flag_filter_validate_flag_filter_workflow_html', 'data_structures_flag_filter_validate_string_is_12bit_oct_dec_or_hex_task_html'], 'data_structures_flag_filter_FlagFilter_struct_html': [], 'data_structures_flag_filter_validate_flag_filter_workflow_html': [], 'data_structures_flag_filter_validate_string_is_12bit_oct_dec_or_hex_task_html': [], 'data_structures_read_group': ['data_structures_read_group_ReadGroup_struct_html', 'data_structures_read_group_get_read_groups_task_html', 'data_structures_read_group_read_group_to_string_task_html', 'data_structures_read_group_validate_read_group_task_html'], 'data_structures_read_group_ReadGroup_struct_html': [], 'data_structures_read_group_get_read_groups_task_html': [], 'data_structures_read_group_read_group_to_string_task_html': [], 'data_structures_read_group_validate_read_group_task_html': []},
                showSelfCache: $persist({'data_structures': true, 'data_structures_flag_filter': true, 'data_structures_flag_filter_FlagFilter_struct_html': true, 'data_structures_flag_filter_validate_flag_filter_workflow_html': true, 'data_structures_flag_filter_validate_string_is_12bit_oct_dec_or_hex_task_html': true, 'data_structures_read_group': true, 'data_structures_read_group_ReadGroup_struct_html': true, 'data_structures_read_group_get_read_groups_task_html': true, 'data_structures_read_group_read_group_to_string_task_html': true, 'data_structures_read_group_validate_read_group_task_html': true}).using(sessionStorage),
                showChildrenCache: $persist({'data_structures': true, 'data_structures_flag_filter': true, 'data_structures_flag_filter_FlagFilter_struct_html': true, 'data_structures_flag_filter_validate_flag_filter_workflow_html': true, 'data_structures_flag_filter_validate_string_is_12bit_oct_dec_or_hex_task_html': true, 'data_structures_read_group': true, 'data_structures_read_group_ReadGroup_struct_html': true, 'data_structures_read_group_get_read_groups_task_html': true, 'data_structures_read_group_read_group_to_string_task_html': true, 'data_structures_read_group_validate_read_group_task_html': true}).using(sessionStorage),
                children(key) {
                    return this.dag[key];
                },
                toggleChildren(key) {
                    this.nodes.forEach(n =&gt; {
                        if (n.key === key) {
                            this.showChildrenCache[key] = !this.showChildrenCache[key];
                            this.children(key).forEach(child =&gt; {
                                this.setShow(child, this.showChildrenCache[key]);
                            });
                        }
                    });
                },
                setShow(key, value) {
                    this.nodes.forEach(n =&gt; {
                        if (n.key === key) {
                            this.showSelfCache[key] = value;
                            this.showChildrenCache[key] = value;
                            this.children(key).forEach(child =&gt; {
                                this.setShow(child, value);
                            });
                        }
                    });
                },
                reset() {
                    this.nodes.forEach(n =&gt; {
                        this.showSelfCache[n.key] = true;
                        this.showChildrenCache[n.key] = true;
                    });
                }
            }" class="flex flex-col gap-y-3 top-0 left-0 h-screen min-w-[269px] text-nowrap pt-4 pl-4 bg-slate-900 text-slate-400 overflow-y-auto overflow-x-clip"><img src="../../assets/sprocket-logo.png" class="w-1/2 h-md mb-4" alt="Sprocket logo"><form id="searchbar" class="flex items-center gap-x-2 w-9/10 h-md rounded-md border border-slate-700 px-2 mb-4"><img src="../../assets/search.png" class="w-4 h-4" alt="Search icon"><input id="searchbox" x-model="search" type="text" placeholder="Search..." class="w-full h-full text-slate-300"></form><div class="w-full h-full rounded-md flex flex-col gap-2 pl-2"><div class="flex items-center gap-x-1 pr-4"><div x-on:click="show_workflows = true" class="flex grow items-center gap-x-1 border-b" x-bind:class="! show_workflows ? 'text-slate-400 hover:text-slate-300' : 'text-slate-50'"><img src="../../assets/list-bullet.png" class="w-4 h-4" alt="List icon"><p>Workflows</p></div><div x-on:click="show_workflows = false" class="flex grow items-center gap-x-1 border-b" x-bind:class="show_workflows ? 'text-slate-400 hover:text-slate-300' : 'text-slate-50'"><img src="../../assets/folder.png" class="w-4 h-4" alt="List icon"><p>Full Directory</p></div></div><ul x-show="! show_workflows || search != ''" class=""><li class="flex flex-row items-center gap-x-1 text-slate-50"><img x-show="search === ''" src="../../assets/selected-dir.png" class="w-4 h-4" alt="Directory icon"><p x-show="search === ''" class=""><a href="../../index.html">docs</a></p></li><template x-for="node in shownNodes"><li class="flex flex-row items-center gap-x-1"><template x-for="i in Array.from({ length: node.nest_level })"><div x-show="showSelfCache[node.key]" class="w-px h-6 border rounded-none border-gray-500 mr-2"></div></template><img x-show="showSelfCache[node.key]" x-on:click="toggleChildren(node.key)" x-data="{ hover: false }" x-on:mouseenter="hover = true" x-on:mouseleave="hover = false" x-bind:src="hover &amp;&amp; (children(node.key).length &gt; 0) ? chevron : node.img" class="w-4 h-4" alt="Node icon"><p x-show="showSelfCache[node.key]" class="truncate" x-bind:class="node.selected ? 'text-slate-50' : (node.search_name === '') ? '' : 'hover:text-slate-300'"><a x-bind:href="node.href" x-text="node.display_name"></a></p></li></template><template x-for="node in searchedNodes"><li class="flex flex-row items-center gap-x-1"><img x-bind:src="node.img" class="w-4 h-4" alt="Node icon"><p class="truncate" x-bind:class="node.selected ? 'text-slate-50' : 'hover:text-slate-300'"><a x-bind:href="node.href" x-text="node.display_name"></a></p></li></template></ul><ul x-show="show_workflows &amp;&amp; search === ''" class=""><li class="px-2"><div class="flex items-center gap-x-1 text-slate-50"><img src="../../assets/category.png" class="w-4 h-4" alt="Category icon"><p class="truncate">Other</p></div><ul class=""><li class="px-2 border-l border-gray-500 ml-2"><div class="flex items-center gap-x-1"><img src="../../assets/unselected-workflow.png" class="w-4 h-4" alt="Workflow icon"><p class="truncate hover:text-slate-300"><a href="validate_flag_filter-workflow.html">validate_flag_filter</a></p></div></li></ul></li></ul></div></div></div><div class="flex grow p-4 ml-4"><div class="flex flex-col gap-y-6"><h1>flag_filter</h1><h3>WDL Version: 1.1</h3><div><h1>FlagFilter</h1>
<p>A struct to represent the filtering flags used in various <code>samtools</code> commands.
The order of precedence is <code>include_if_all</code>, <code>exclude_if_any</code>, <code>include_if_any</code>,
and <code>exclude_if_all</code>.
These four fields correspond to the samtools flags
<code>-f</code>, <code>-F</code>, <code>--rf</code>, and <code>-G</code> respectively.
The values of these fields are strings that represent a 12bit bitwise flag.
These strings must evaluate to an integer less than 4096 (2^12).
They can be in octal, decimal, or hexadecimal format.
Please see the <code>meta.help</code> of <code>validate_string_is_12bit_oct_dec_or_hex</code>
for more information on the valid formats.</p>
<p>The <code>validate_flag_filter</code> workflow can be used to validate a <code>FlagFilter</code> struct.
<strong>WARNING</strong> The <code>validate_flag_filter</code> workflow will only check that all the fields
can be parsed as integers less than 4096. It will not check if the flags are
sensible input to <code>samtools fastq</code>.
<code>samtools fastq</code> also employs very little error checking on the flags.
So it is possible to pass in flags that produce nonsensical output.
For example, it is possible to pass in flags that produce no output.
<strong>Please exhibit caution while modifying any default values of a <code>FlagFilter</code>.</strong></p>
<p>We suggest using the Broad Institute's SAM flag explainer to construct the flags.
Find it <a href="https://broadinstitute.github.io/picard/explain-flags.html" rel="noopener noreferrer">here</a>.</p>
<h2>Example input JSON</h2>
<pre><code>{
   "flags": {
       "include_if_all": "0x3",
       "exclude_if_any": "0xF04",
       "include_if_any": "0x0",
       "exclude_if_all": "0x0"
   }
}
</code></pre>
<h3>Explanation</h3>
<p>The above example JSON represents a <code>FlagFilter</code> struct
being passed to parameter named <code>flags</code>.
The <code>include_if_all</code> field is set to <code>0x3</code> which is <code>3</code> in decimal.
The <code>exclude_if_any</code> field is set to <code>0xF04</code> which is <code>3844</code> in decimal.
The <code>include_if_any</code> field is set to <code>0x0</code> which is <code>0</code> in decimal.
The <code>exclude_if_all</code> field is set to <code>0x0</code> which is <code>0</code> in decimal.</p>
<p><code>3</code> in decimal can be represented as <code>000000000011</code> in 12bit binary.
This number means that to be included a read must have the 1st and 2nd bits set.
Those bits correspond to the <code>read paired</code> and <code>read mapped in proper pair</code> flags.</p>
<p><code>3844</code> in decimal can be represented as <code>111100000100</code> in 12bit binary.
This number means that to be excluded a read must have <strong>any</strong> of the
3rd, 9th, 10th, 11th, or 12th bits set.
We won't go through what all those bits mean here, but you can find
the meanings of the bits in the
<a href="https://broadinstitute.github.io/picard/explain-flags.html" rel="noopener noreferrer">SAM flag explainer</a>.
In short, those are all flags corresponding to the quality of the read
and them being <code>true</code> may indicate that the read is of low quality and
should be excluded.</p>
</div><div class="flex flex-col gap-y-6"><h2>Table of Contents</h2><table class="border"><thead class="border"><tr><th class="">Page</th><th class="">Type</th><th class="">Description</th></tr></thead><tbody class="border"><tr class="border"><td class="border"><a href="FlagFilter-struct.html">FlagFilter</a></td><td class="border">Struct</td><td class="border">N/A</td></tr><tr class="border"><td class="border"><a href="validate_string_is_12bit_oct_dec_or_hex-task.html">validate_string_is_12bit_oct_dec_or_hex</a></td><td class="border">Task</td><td class="border">Validates that a string is a octal, decimal, or hexadecimal number and less than 2^12.</td></tr><tr class="border"><td class="border"><a href="validate_flag_filter-workflow.html">validate_flag_filter</a></td><td class="border">Workflow</td><td class="border">Validates a FlagFilter struct.</td></tr></tbody></table></div></div></div><div class="flex top-0 right-0 sticky"><div class="top-0 right-0 h-screen min-w-[240px] w-[240px] p-4 bg-red-900 text-white"><h1 class="text-2xl text-center">Sidebar</h1><p class="">Right Sidebar</p></div></div></div></body></html>