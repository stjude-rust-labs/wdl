<!DOCTYPE html><html class="dark"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>flag_filter</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&amp;display=swap" rel="stylesheet"><script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/persist@3.x.x/dist/cdn.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script><script defer src="../../index.js"></script><link rel="stylesheet" type="text/css" href="../../style.css"></head><body class="size-full table-auto border-collapse text-base"><div class="layout__container layout__container--with-mobile-menu" x-data="{ open: false }" x-bind:class="open ? 'open' : ''"><div class="layout__sidebar-left"><div x-data="{
                showWorkflows: $persist(true).using(sessionStorage),
                search: $persist('').using(sessionStorage),
                chevron: '../../assets/chevron-down.svg',
                dirOpen: '../../assets/dir-open.svg',
                dirClosed: '../../assets/dir-closed.svg',
                nodes: [{
                        key: 'data_structures',
                        display_name: 'data_structures',
                        parent: '',
                        search_name: '',
                        icon: null,
                        href: null,
                        selected: true,
                        current: false,
                        nest_level: 1
                    }, {
                        key: 'data_structures_flag_filter',
                        display_name: 'flag_filter',
                        parent: 'data_structures/flag_filter',
                        search_name: 'data_structures/flag_filter/index.html',
                        icon: '../../assets/wdl-dir-selected.svg',
                        href: 'index.html',
                        selected: true,
                        current: true,
                        nest_level: 2
                    }, {
                        key: 'data_structures_flag_filter_FlagFilter_struct_html',
                        display_name: 'FlagFilter',
                        parent: 'data_structures/flag_filter',
                        search_name: 'data_structures/flag_filter/FlagFilter-struct.html',
                        icon: '../../assets/struct-unselected.svg',
                        href: 'FlagFilter-struct.html',
                        selected: false,
                        current: false,
                        nest_level: 3
                    }, {
                        key: 'data_structures_flag_filter_validate_flag_filter_workflow_html',
                        display_name: 'validate_flag_filter',
                        parent: 'data_structures/flag_filter',
                        search_name: 'data_structures/flag_filter/validate_flag_filter-workflow.html',
                        icon: '../../assets/workflow-unselected.svg',
                        href: 'validate_flag_filter-workflow.html',
                        selected: false,
                        current: false,
                        nest_level: 3
                    }, {
                        key: 'data_structures_flag_filter_validate_string_is_12bit_oct_dec_or_hex_task_html',
                        display_name: 'validate_string_is_12bit_oct_dec_or_hex',
                        parent: 'data_structures/flag_filter',
                        search_name: 'data_structures/flag_filter/validate_string_is_12bit_oct_dec_or_hex-task.html',
                        icon: '../../assets/task-unselected.svg',
                        href: 'validate_string_is_12bit_oct_dec_or_hex-task.html',
                        selected: false,
                        current: false,
                        nest_level: 3
                    }, {
                        key: 'data_structures_read_group',
                        display_name: 'read_group',
                        parent: 'data_structures/read_group',
                        search_name: 'data_structures/read_group/index.html',
                        icon: '../../assets/wdl-dir-unselected.svg',
                        href: '../read_group/index.html',
                        selected: false,
                        current: false,
                        nest_level: 2
                    }, {
                        key: 'data_structures_read_group_ReadGroup_struct_html',
                        display_name: 'ReadGroup',
                        parent: 'data_structures/read_group',
                        search_name: 'data_structures/read_group/ReadGroup-struct.html',
                        icon: '../../assets/struct-unselected.svg',
                        href: '../read_group/ReadGroup-struct.html',
                        selected: false,
                        current: false,
                        nest_level: 3
                    }, {
                        key: 'data_structures_read_group_get_read_groups_task_html',
                        display_name: 'get_read_groups',
                        parent: 'data_structures/read_group',
                        search_name: 'data_structures/read_group/get_read_groups-task.html',
                        icon: '../../assets/task-unselected.svg',
                        href: '../read_group/get_read_groups-task.html',
                        selected: false,
                        current: false,
                        nest_level: 3
                    }, {
                        key: 'data_structures_read_group_read_group_to_string_task_html',
                        display_name: 'read_group_to_string',
                        parent: 'data_structures/read_group',
                        search_name: 'data_structures/read_group/read_group_to_string-task.html',
                        icon: '../../assets/task-unselected.svg',
                        href: '../read_group/read_group_to_string-task.html',
                        selected: false,
                        current: false,
                        nest_level: 3
                    }, {
                        key: 'data_structures_read_group_validate_read_group_task_html',
                        display_name: 'validate_read_group',
                        parent: 'data_structures/read_group',
                        search_name: 'data_structures/read_group/validate_read_group-task.html',
                        icon: '../../assets/task-unselected.svg',
                        href: '../read_group/validate_read_group-task.html',
                        selected: false,
                        current: false,
                        nest_level: 3
                    }],
                get searchedNodes() {
                    if (this.search === '') {
                        return [];
                    }
                    this.showWorkflows = false;
                    return this.nodes.filter(node =&gt; node.search_name.toLowerCase().includes(this.search.toLowerCase()));
                },
                get shownNodes() {
                    if (this.search !== '') {
                        return [];
                    }
                    return this.nodes.filter(node =&gt; this.showSelfCache[node.key]);
                },
                dag: {'data_structures': ['data_structures_flag_filter', 'data_structures_read_group'], 'data_structures_flag_filter': ['data_structures_flag_filter_FlagFilter_struct_html', 'data_structures_flag_filter_validate_flag_filter_workflow_html', 'data_structures_flag_filter_validate_string_is_12bit_oct_dec_or_hex_task_html'], 'data_structures_flag_filter_FlagFilter_struct_html': [], 'data_structures_flag_filter_validate_flag_filter_workflow_html': [], 'data_structures_flag_filter_validate_string_is_12bit_oct_dec_or_hex_task_html': [], 'data_structures_read_group': ['data_structures_read_group_ReadGroup_struct_html', 'data_structures_read_group_get_read_groups_task_html', 'data_structures_read_group_read_group_to_string_task_html', 'data_structures_read_group_validate_read_group_task_html'], 'data_structures_read_group_ReadGroup_struct_html': [], 'data_structures_read_group_get_read_groups_task_html': [], 'data_structures_read_group_read_group_to_string_task_html': [], 'data_structures_read_group_validate_read_group_task_html': []},
                showSelfCache: $persist({'data_structures': true, 'data_structures_flag_filter': true, 'data_structures_flag_filter_FlagFilter_struct_html': true, 'data_structures_flag_filter_validate_flag_filter_workflow_html': true, 'data_structures_flag_filter_validate_string_is_12bit_oct_dec_or_hex_task_html': true, 'data_structures_read_group': true, 'data_structures_read_group_ReadGroup_struct_html': true, 'data_structures_read_group_get_read_groups_task_html': true, 'data_structures_read_group_read_group_to_string_task_html': true, 'data_structures_read_group_validate_read_group_task_html': true}).using(sessionStorage),
                showChildrenCache: $persist({'data_structures': true, 'data_structures_flag_filter': true, 'data_structures_flag_filter_FlagFilter_struct_html': true, 'data_structures_flag_filter_validate_flag_filter_workflow_html': true, 'data_structures_flag_filter_validate_string_is_12bit_oct_dec_or_hex_task_html': true, 'data_structures_read_group': true, 'data_structures_read_group_ReadGroup_struct_html': true, 'data_structures_read_group_get_read_groups_task_html': true, 'data_structures_read_group_read_group_to_string_task_html': true, 'data_structures_read_group_validate_read_group_task_html': true}).using(sessionStorage),
                children(key) {
                    return this.dag[key];
                },
                toggleChildren(key) {
                    this.nodes.forEach(n =&gt; {
                        if (n.key === key) {
                            this.showChildrenCache[key] = !this.showChildrenCache[key];
                            this.children(key).forEach(child =&gt; {
                                this.setShow(child, this.showChildrenCache[key]);
                            });
                        }
                    });
                },
                setShow(key, value) {
                    this.nodes.forEach(n =&gt; {
                        if (n.key === key) {
                            this.showSelfCache[key] = value;
                            this.showChildrenCache[key] = value;
                            this.children(key).forEach(child =&gt; {
                                this.setShow(child, value);
                            });
                        }
                    });
                },
                reset() {
                    this.nodes.forEach(n =&gt; {
                        this.showSelfCache[n.key] = true;
                        this.showChildrenCache[n.key] = true;
                    });
                }
            }" class="docs-tree__container"><div class="sticky"><img src="../../assets/sprocket-logo.svg" class="w-2/3 flex-none mb-4" alt="Sprocket logo"><form id="searchbar" class="flex-none items-center gap-x-2 w-9/10 h-[40px] rounded-md border border-slate-700 mb-4"><div class="flex flex-row items-center h-full w-full"><img src="../../assets/search.svg" class="flex size-6" alt="Search icon"><input id="searchbox" x-model="search" type="text" placeholder="Search..." class="flex h-full w-full text-slate-300 pl-2"><img src="../../assets/x-mark.svg" class="flex size-6 hover:cursor-pointer ml-2 pr-2" alt="Clear icon" x-show="search !== ''" x-on:click="search = ''"></div></form><div class="flex items-center gap-x-1 pr-4"><div x-on:click="showWorkflows = true; search = ''" class="flex grow items-center gap-x-1 border-b hover:cursor-pointer" x-bind:class="! showWorkflows ? 'text-slate-400 hover:text-slate-300' : 'text-slate-50'"><img src="../../assets/list-bullet-selected.svg" class="w-4 h-4" alt="List icon"><p>Workflows</p></div><div x-on:click="showWorkflows = false" class="flex grow items-center gap-x-1 border-b hover:cursor-pointer" x-bind:class="showWorkflows ? 'text-slate-400 hover:text-slate-300' : 'text-slate-50'"><img src="../../assets/folder-selected.svg" class="w-4 h-4" alt="List icon"><p>Full Directory</p></div></div></div><div x-cloak class="w-full h-full rounded-md pt-2 pl-2 overflow-x-auto overflow-y-scroll"><ul x-show="! showWorkflows || search != ''" class="w-max pr-3"><li class="flex flex-row items-center gap-x-1 text-slate-50"><img x-show="search === ''" src="../../assets/dir-open.svg" class="w-4 h-4" alt="Directory icon"><sprocket-tooltip position="bottom" content="docs" x-show="search === ''"><a href="../../index.html">docs</a></sprocket-tooltip></li><template x-for="node in shownNodes"><li x-data="{ hover: false }" class="flex flex-row items-center gap-x-1" x-bind:class="node.current ? 'bg-slate-800' : hover ? 'bg-slate-700' : ''"><template x-for="i in Array.from({ length: node.nest_level })"><div x-show="showSelfCache[node.key]" class="w-px h-6 border rounded-none border-gray-700 mr-2"></div></template><div class="flex flex-row items-center gap-x-1" x-show="showSelfCache[node.key]" x-on:mouseenter="hover = (node.href !== null)" x-on:mouseleave="hover = false"><img x-show="showSelfCache[node.key]" x-data="{ showChevron: false }" x-on:click="toggleChildren(node.key)" x-on:mouseenter="showChevron = true" x-on:mouseleave="showChevron = false" x-bind:src="showChevron &amp;&amp; (children(node.key).length &gt; 0) ? chevron : (node.icon !== null) ? node.icon : (showChildrenCache[node.key]) ? dirOpen : dirClosed" x-bind:class="(children(node.key).length &gt; 0) ? 'hover:cursor-pointer' : ''" class="w-4 h-4" alt="Node icon"><sprocket-tooltip position="bottom" x-bind:content="node.display_name" x-show="showSelfCache[node.key]" class="" x-bind:class="node.selected ? 'text-slate-50' : (node.search_name === '') ? '' : 'hover:text-slate-50'"><a x-bind:href="node.href" x-text="node.display_name"></a></sprocket-tooltip></div></li></template><template x-for="node in searchedNodes"><li class="flex flex-col hover:bg-slate-800 border-b border-gray-600 text-slate-50 pl-2"><p class="text-xs" x-text="node.parent"></p><div class="flex flex-row items-center gap-x-1 mb-2"><img x-bind:src="node.icon" class="w-4 h-4" alt="Node icon"><sprocket-tooltip position="bottom" x-bind:content="node.display_name"><a x-bind:href="node.href" x-text="node.display_name"></a></sprocket-tooltip></div></li></template><li class="flex place-content-center"><img x-show="search !== '' &amp;&amp; searchedNodes.length === 0" src="../../assets/search.svg" class="size-8" alt="Search icon"></li><li class="flex place-content-center"><p x-show="search !== '' &amp;&amp; searchedNodes.length === 0" class="" x-text="'No results found for &quot;' + search + '&quot;'"></p></li></ul><ul x-show="showWorkflows &amp;&amp; search === ''" class="w-max pr-3"><li class=""><div class="flex items-center gap-x-1 h-6 text-slate-50"><img src="../../assets/category-selected.svg" class="w-4 h-4" alt="Category icon"><p class="">Other</p></div><ul class=""><li x-data="{
                                hover: false,
                                node: {
                                    current: false,
                                    icon: '../../assets/workflow-unselected.svg',
                                }
                            }" class="flex flex-row items-center gap-x-1" x-bind:class="node.current ? 'bg-slate-800' : hover ? 'bg-slate-700' : ''"><div class="w-px h-6 mr-2 flex-none"></div><div class="w-px h-6 mr-2 flex-none border rounded-none border-gray-700"></div><div class="flex flex-row items-center gap-x-1" x-on:mouseenter="hover = true" x-on:mouseleave="hover = false"><img x-bind:src="node.icon" class="w-4 h-4" alt="Workflow icon"><p class="" x-bind:class="node.current ? 'text-slate-50' : 'hover:text-slate-50'"><a href="validate_flag_filter-workflow.html">validate_flag_filter</a></p></div></li></ul></li></ul></div></div></div><div class="layout__main-center"><div class=""><a href="../../index.html">docs</a><span> / </span><span>data_structures</span><span> / </span><a href="index.html">flag_filter</a><span> / </span><span>flag_filter</span></div><button type="button" class="layout__mobile-menu-button" x-on:click="open = !open" aria-label="Toggle menu"><svg viewBox="0 0 100 80" width="40" height="40" stroke="none" fill="currentColor"><rect width="100" height="15"></rect><rect y="35" width="100" height="15"></rect><rect y="70" width="100" height="15"></rect></svg></button><div class="callable__container"><h1 id="title" class="callable_title">flag_filter</h1><h3 class="callable__section-subheader">WDL Version: 1.1</h3><div id="preamble" class="callable__section-text"><h1>FlagFilter</h1>
<p>A struct to represent the filtering flags used in various <code>samtools</code> commands.
The order of precedence is <code>include_if_all</code>, <code>exclude_if_any</code>, <code>include_if_any</code>,
and <code>exclude_if_all</code>.
These four fields correspond to the samtools flags
<code>-f</code>, <code>-F</code>, <code>--rf</code>, and <code>-G</code> respectively.
The values of these fields are strings that represent a 12bit bitwise flag.
These strings must evaluate to an integer less than 4096 (2^12).
They can be in octal, decimal, or hexadecimal format.
Please see the <code>meta.help</code> of <code>validate_string_is_12bit_oct_dec_or_hex</code>
for more information on the valid formats.</p>
<p>The <code>validate_flag_filter</code> workflow can be used to validate a <code>FlagFilter</code> struct.
<strong>WARNING</strong> The <code>validate_flag_filter</code> workflow will only check that all the fields
can be parsed as integers less than 4096. It will not check if the flags are
sensible input to <code>samtools fastq</code>.
<code>samtools fastq</code> also employs very little error checking on the flags.
So it is possible to pass in flags that produce nonsensical output.
For example, it is possible to pass in flags that produce no output.
<strong>Please exhibit caution while modifying any default values of a <code>FlagFilter</code>.</strong></p>
<p>We suggest using the Broad Institute's SAM flag explainer to construct the flags.
Find it <a href="https://broadinstitute.github.io/picard/explain-flags.html" rel="noopener noreferrer">here</a>.</p>
<h2>Example input JSON</h2>
<pre><code>{
   "flags": {
       "include_if_all": "0x3",
       "exclude_if_any": "0xF04",
       "include_if_any": "0x0",
       "exclude_if_all": "0x0"
   }
}
</code></pre>
<h3>Explanation</h3>
<p>The above example JSON represents a <code>FlagFilter</code> struct
being passed to parameter named <code>flags</code>.
The <code>include_if_all</code> field is set to <code>0x3</code> which is <code>3</code> in decimal.
The <code>exclude_if_any</code> field is set to <code>0xF04</code> which is <code>3844</code> in decimal.
The <code>include_if_any</code> field is set to <code>0x0</code> which is <code>0</code> in decimal.
The <code>exclude_if_all</code> field is set to <code>0x0</code> which is <code>0</code> in decimal.</p>
<p><code>3</code> in decimal can be represented as <code>000000000011</code> in 12bit binary.
This number means that to be included a read must have the 1st and 2nd bits set.
Those bits correspond to the <code>read paired</code> and <code>read mapped in proper pair</code> flags.</p>
<p><code>3844</code> in decimal can be represented as <code>111100000100</code> in 12bit binary.
This number means that to be excluded a read must have <strong>any</strong> of the
3rd, 9th, 10th, 11th, or 12th bits set.
We won't go through what all those bits mean here, but you can find
the meanings of the bits in the
<a href="https://broadinstitute.github.io/picard/explain-flags.html" rel="noopener noreferrer">SAM flag explainer</a>.
In short, those are all flags corresponding to the quality of the read
and them being <code>true</code> may indicate that the read is of low quality and
should be excluded.</p>
</div><div class="callable__section"><h2 id="toc" class="callable__section-header">Table of Contents</h2><div class="parameter__table-outer-container"><div class="parameter__table-inner-container"><table class="parameter__table"><thead><tr><th>Page</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td class="text-violet-400"><a href="FlagFilter-struct.html">FlagFilter</a></td><td>Struct</td><td>N/A</td></tr><tr><td class="text-violet-400"><a href="validate_string_is_12bit_oct_dec_or_hex-task.html">validate_string_is_12bit_oct_dec_or_hex</a></td><td>Task</td><td>Validates that a string is a octal, decimal, or hexadecimal number and less than 2^12.</td></tr><tr><td class="text-violet-400"><a href="validate_flag_filter-workflow.html">validate_flag_filter</a></td><td>Workflow</td><td>Validates a FlagFilter struct.</td></tr></tbody></table></div></div></div></div></div><div class="layout__sidebar-right"><div class="right-sidebar__container"><div class="right-sidebar__header">ON THIS PAGE</div><a href="#preamble" class="right-sidebar__section-header">Preamble</a><a href="#toc" class="right-sidebar__section-header">Table of Contents</a><div class="right-sidebar__back-to-top-container"><a href="#title" class="right-sidebar__back-to-top"><span class="right-sidebar__back-to-top-icon">↑</span><span class="right-sidebar__back-to-top-text">Back to top</span></a></div></div></div></div></body></html>